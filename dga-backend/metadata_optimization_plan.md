# 元数据管理功能优化方案

针对当前元数据管理功能“简单、页面不够美观”的问题，本方案从 **UI/UX 视觉升级** 和 **功能深度扩展** 两个维度进行优化，旨在打造一个专业、直观且富有洞察力的数据资产管理平台。

## 1. 界面视觉与交互升级 (UI/UX)

### 1.1 元数据列表页 (`Metadata.vue`)
目前列表页仅为简单的表格，缺乏概览和视觉层次。
- **新增概览仪表盘 (Dashboard Header)**:
  - 在筛选栏上方增加 3-4 个统计卡片：
    - **资产总数**: 展示纳管表总数。
    - **存储总量**: 展示总存储大小 (TB/PB)。
    - **今日变更**: 展示今日新增/更新的表数量。
    - **治理评分**: 全局平均健康分。
- **优化筛选体验**:
  - 将筛选栏改为折叠式或更紧凑的行内样式。
  - 增加“我的关注”、“最近访问”快捷筛选标签。
- **表格视觉增强**:
  - **图标化**: 为不同的数据源类型 (Hive, MySQL, StarRocks) 添加对应的 Logo 图标。
  - **状态标签**: 对“存储格式”、“更新时间”等字段使用不同颜色的 Tag 进行视觉区分（如：近期更新为绿色，久未更新为灰色）。

### 1.2 元数据详情页 (`MetadataDetail.vue`)
详情页目前信息展示较为平铺直叙。
- **沉浸式页头**:
  - 增加面包屑导航：`元数据 / <数据源> / <库名> / <表名>`。
  - 增加表类型大图标。
  - 将关键指标（大小、记录数、负责人）以更醒目的 Key-Value 形式展示。
- **内容组织优化**:
  - **Wiki 风格描述**: 支持 Markdown 渲染表描述，允许用户添加富文本备注。
  - **标签体系 (Tags)**: 在页头显著位置展示业务标签（如 `P0核心`, `包含隐私`, `数仓分层`）。

## 2. 功能深度扩展 (Functionality)

### 2.1 血缘关系 (Data Lineage) - *核心亮点*
元数据管理的核心在于“链路”。
- **新增“血缘图谱” Tab**:
  - 引入可视化库（如 ECharts Graph 或专门的血缘组件）。
  - 展示当前表的**上游依赖**和**下游影响**。
  - *注：初期可先搭建前端框架和 Mock 数据，后续对接后端血缘解析服务。*

### 2.2 数据预览与探查 (Data Preview)
- **新增“数据预览” Tab**:
  - 展示表的前 10-50 条采样数据，方便用户快速确认数据内容（需脱敏）。
  - *注：需后端增加 `/preview` 接口。*

### 2.3 交互式管理
- **编辑功能**:
  - 允许在详情页直接修改“表描述”和“字段描述”。
  - 允许添加/删除“标签”。
- **收藏/关注**:
  - 在列表和详情页增加“星标”按钮，方便用户收藏常用表。

## 3. 实施计划 (Implementation Plan)

### Phase 1: 视觉重构 (本阶段重点)
1.  **重构 `Metadata.vue`**:
    - 引入 Ant Design `a-statistic` 和 `a-card` 组件实现概览仪表盘。
    - 优化 `a-table` 列渲染，增加图标和样式。
2.  **重构 `MetadataDetail.vue`**:
    - 优化 `a-page-header` 布局。
    - 增加“标签”展示区域。

### Phase 2: 功能增强
1.  **详情页 Tab 扩展**:
    - 增加 `Lineage` (血缘) 和 `Sample Data` (预览) 的 UI 骨架。
2.  **编辑能力**:
    - 实现描述字段的“点击即改” (Inline Edit)。

---

**待确认事项**:
- 是否优先实施 Phase 1 的视觉重构？
- 对于“血缘关系”，目前是否有后端数据支持，还是先做前端 Mock 展示？
